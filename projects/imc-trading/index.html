<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> IMC Prosperity Algo-Trading Competition Journey | Frederik K. Ciupek </title> <meta name="author" content="Frederik K. Ciupek"> <meta name="description" content="A round-by-round breakdown of our team’s participation in the IMC Prosperity algorithmic trading competition, including the evolving marketplace rules, algorithmic strategy adaptations, and performance trajectory. "> <meta name="keywords" content="quantitative investing, portfolio management, alternative data, M&amp;A arbitrage"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://frederikciupek.github.io/projects/imc-trading/"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Frederik</span> K. Ciupek </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/books/">bookshelf</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/">blog</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">IMC Prosperity Algo-Trading Competition Journey</h1> <p class="post-description">A round-by-round breakdown of our team’s participation in the IMC Prosperity algorithmic trading competition, including the evolving marketplace rules, algorithmic strategy adaptations, and performance trajectory. </p> </header> <article> <p> Over two weeks in the spring semester, three friends of mine from the Asset Management Program and I decided to take part in the <strong>IMC Prosperity 3</strong> algo-trading competition. Me and two others focused on the algorithmic trading portion while the 4th focused his attention on the game theory heavy manual trading portion. This write-up walks through each of the five rounds, highlighting what new instruments or rules were introduced, how our code evolved to address them, and how our rankings shifted as we balanced schoolwork and recruiting pressures. </p> <p> (<a href="https://prosperity.imc.com/" rel="external nofollow noopener" target="_blank">IMC Prosperity 3</a>) was a global trading competition that spanned five rounds over fifteen days, drawing over 12,000 teams from around the world. Participants built and refined algorithmic strategies to maximize profits across a simulated marketplace, tackling real‐world challenges like market making, statistical arbitrage, scalping, and locational arbitrage. </p> <p> The event took on a gamified “island” theme: each team managed an island economy that traded various fictional goods - <strong>Kelp</strong>, <strong>Squid Ink</strong>, <strong>Picnic Baskets</strong> (an ETF analog), and <strong>Volcanic Rock Vouchers</strong> (an options analog) - using <strong>SeaShells</strong> as the in‐game currency. Round 1 began with just three products; by the final round, the universe had expanded to fifteen distinct instruments. </p> <p> Before each round, teams uploaded their latest algorithm, which then ran head‐to‐head against a marketplace of automated bots. Competitors dissected bot behavior—identifying predictable quoting or trading patterns - and analyzed price series both within individual products and across related instruments (for example, monitoring ETF–constituent spreads). Performance in that simulated session generated PnL, which determined each team’s rank on the <a href="https://prosperity.imc.com/leaderboard" rel="external nofollow noopener" target="_blank">global leaderboard</a>. </p> <p> Alongside the algorithmic contest, there was a manual trading challenge in every round. Although manual PnL accounted for only a small percentage of total points, it added an entertaining layer—often involving decision‐making under uncertainty, game‐theoretic tactics, or news‐driven trades. </p> <p> For complete details on the algorithms, market rules, and environment, see the <a href="https://imc-prosperity.notion.site/Prosperity-3-Wiki-19ee8453a09380529731c4e6fb697ea4" rel="external nofollow noopener" target="_blank">Prosperity 3 Wiki</a>. </p> <href> <h4> <strong>Background</strong><h4> </h4> </h4> <p>Unlike many participants in this competition, our team was completely new to algorithmic trading and did not do any prep which made the next two weeks extremely stressful as we had to catch up. In the Asset Management Program at Yale SOM, we mostly focus on quantitative factor strategies that exploit previously uncovered structures in the market, such as the betting against beta factor or momentum factors. We use machine learning algorithms like trees (boosted and bagging) or Natural Language Processing to parse news/websites. In short, what we are used to is one 1. a good amount of data (despite finance having a data problem, as noted by <a href="https://www.bryankellyacademic.org/" rel="external nofollow noopener" target="_blank">Machine Learning Professor Bryan Kelly</a>) to infer future returns and 2. a much longer time horizon for the investments.</p> <p> We never had to think about making a market and rather whether the market that was made for us is good or not. However, in this competition, we were limited to using no machine learning tools by design. Additionally, the programming was a bit different from what we were used to. In the competition, we were asked to create a trading algorithm class in Python, which would then operate autonomously on the island exchange. </p> <p> The trading algorithm followed a predefined format: a <code>Trader</code> class with a single <code>run</code> method encapsulating all trading logic. Once uploaded, the algorithm was executed in a simulation environment consisting of numerous iterations. During each iteration, the `run` method was invoked with a <code>TradingState</code> object, which provided details about trades since the last iteration, including the algorithm's own trades and those between other market participants. Crucially, the <code>TradingState</code> also contained a per-product overview of outstanding buy and sell orders (quotes) from bots. Based on this information, the algorithm could send orders to match existing quotes or leave unmatched quantities as outstanding quotes for bots to potentially trade on in subsequent iterations. Below you can see a bare-bone example of a Trader class </p> <figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre></td> <td class="code"><pre><span class="kn">from</span> <span class="n">datamodel</span> <span class="kn">import</span> <span class="n">OrderDepth</span><span class="p">,</span> <span class="n">UserId</span><span class="p">,</span> <span class="n">TradingState</span><span class="p">,</span> <span class="n">Order</span>
<span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="kn">import</span> <span class="n">string</span>

<span class="k">class</span> <span class="nc">Trader</span><span class="p">:</span>
    
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">TradingState</span><span class="p">):</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">traderData: </span><span class="sh">"</span> <span class="o">+</span> <span class="n">state</span><span class="p">.</span><span class="n">traderData</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Observations: </span><span class="sh">"</span> <span class="o">+</span> <span class="nf">str</span><span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">observations</span><span class="p">))</span>

				<span class="c1"># Orders to be placed on exchange matching engine
</span>        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">state</span><span class="p">.</span><span class="n">order_depths</span><span class="p">:</span>
            <span class="n">order_depth</span><span class="p">:</span> <span class="n">OrderDepth</span> <span class="o">=</span> <span class="n">state</span><span class="p">.</span><span class="n">order_depths</span><span class="p">[</span><span class="n">product</span><span class="p">]</span>
            <span class="n">orders</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Order</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">acceptable_price</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># Participant should calculate this value
</span>            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Acceptable price : </span><span class="sh">"</span> <span class="o">+</span> <span class="nf">str</span><span class="p">(</span><span class="n">acceptable_price</span><span class="p">))</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Buy Order depth : </span><span class="sh">"</span> <span class="o">+</span> <span class="nf">str</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">order_depth</span><span class="p">.</span><span class="n">buy_orders</span><span class="p">))</span> <span class="o">+</span> <span class="sh">"</span><span class="s">, Sell order depth : </span><span class="sh">"</span> <span class="o">+</span> <span class="nf">str</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">order_depth</span><span class="p">.</span><span class="n">sell_orders</span><span class="p">)))</span>
    
            <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">order_depth</span><span class="p">.</span><span class="n">sell_orders</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">best_ask</span><span class="p">,</span> <span class="n">best_ask_amount</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">order_depth</span><span class="p">.</span><span class="n">sell_orders</span><span class="p">.</span><span class="nf">items</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">if</span> <span class="nf">int</span><span class="p">(</span><span class="n">best_ask</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">acceptable_price</span><span class="p">:</span>
                    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">BUY</span><span class="sh">"</span><span class="p">,</span> <span class="nf">str</span><span class="p">(</span><span class="o">-</span><span class="n">best_ask_amount</span><span class="p">)</span> <span class="o">+</span> <span class="sh">"</span><span class="s">x</span><span class="sh">"</span><span class="p">,</span> <span class="n">best_ask</span><span class="p">)</span>
                    <span class="n">orders</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="nc">Order</span><span class="p">(</span><span class="n">product</span><span class="p">,</span> <span class="n">best_ask</span><span class="p">,</span> <span class="o">-</span><span class="n">best_ask_amount</span><span class="p">))</span>
    
            <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">order_depth</span><span class="p">.</span><span class="n">buy_orders</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">best_bid</span><span class="p">,</span> <span class="n">best_bid_amount</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">order_depth</span><span class="p">.</span><span class="n">buy_orders</span><span class="p">.</span><span class="nf">items</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">if</span> <span class="nf">int</span><span class="p">(</span><span class="n">best_bid</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">acceptable_price</span><span class="p">:</span>
                    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">SELL</span><span class="sh">"</span><span class="p">,</span> <span class="nf">str</span><span class="p">(</span><span class="n">best_bid_amount</span><span class="p">)</span> <span class="o">+</span> <span class="sh">"</span><span class="s">x</span><span class="sh">"</span><span class="p">,</span> <span class="n">best_bid</span><span class="p">)</span>
                    <span class="n">orders</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="nc">Order</span><span class="p">(</span><span class="n">product</span><span class="p">,</span> <span class="n">best_bid</span><span class="p">,</span> <span class="o">-</span><span class="n">best_bid_amount</span><span class="p">))</span>
            
            <span class="n">result</span><span class="p">[</span><span class="n">product</span><span class="p">]</span> <span class="o">=</span> <span class="n">orders</span>
    
		    <span class="c1"># String value holding Trader state data required. 
</span>				<span class="c1"># It will be delivered as TradingState.traderData on next execution.
</span>        <span class="n">traderData</span> <span class="o">=</span> <span class="sh">"</span><span class="s">SAMPLE</span><span class="sh">"</span> 
        
				<span class="c1"># Sample conversion request. Check more details below. 
</span>        <span class="n">conversions</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">,</span> <span class="n">conversions</span><span class="p">,</span> <span class="n">traderData</span>
</pre></td> </tr></tbody></table></code></pre></figure> <p> Every trade impacted the algorithm's position in a product, which could be long, short, or neutral. Position limits restricted the absolute long or short positions an algorithm could hold in each product. If the algorithm's orders exceeded these limits, they were automatically canceled by the exchange. This added a layer of complexity, requiring careful management of positions and order quantities to maximize profits while adhering to constraints. </p> </href> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Frederik K. Ciupek. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>